<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>üéØ WinGo Predictor Pro</title>
<link rel="manifest" href="/manifest.json">
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: url('https://media.giphy.com/media/26BRBupa9K3A1JecQ/giphy.gif') no-repeat center center fixed;
  background-size: cover;
  color: #fff;
}
header {
  background: rgba(0,0,0,0.8);
  padding: 15px;
  text-align: center;
  font-size: 1.4em;
  font-weight: bold;
  color: gold;
  box-shadow: 0 0 15px #000;
}
.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
  background: rgba(0,0,0,0.7);
  border-radius: 15px;
  box-shadow: 0 0 20px #000;
}
input, select, button {
  padding: 10px;
  margin: 5px 0;
  border-radius: 8px;
  border: none;
  font-size: 1em;
}
button {
  background: linear-gradient(90deg, gold, orange);
  color: black;
  cursor: pointer;
  font-weight: bold;
}
button:hover {
  background: linear-gradient(90deg, orange, gold);
}
.result-box {
  background: rgba(255,255,255,0.1);
  padding: 15px;
  border-radius: 10px;
  margin-top: 15px;
  text-align: center;
  font-size: 1.2em;
}
</style>
</head>
<body>
<header>üéØ WinGo Predictor Pro</header>
<div class="container">
  <label>üßæ Period Number</label>
  <input id="period" placeholder="e.g. 20250813100052810">
  <label>‚è± Auto Mode Interval</label>
  <select id="interval">
    <option value="30">30 seconds</option>
    <option value="60">1 minute</option>
  </select>
  <br>
  <button id="btnPredict">üîÆ Predict</button>
  <button id="btnAuto">‚ñ∂ Auto Mode</button>
  <div class="result-box" id="resultBox">Prediction will appear here...</div>
</div>

<audio id="coinSound" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>

<script>
let autoTimer=null;

function weightedPrediction(period) {
  if (!period || period.length < 5) return {num: Math.floor(Math.random()*10), size: "Small", conf: 50};
  let digits = period.split("").map(Number);
  let sum = digits.reduce((a,b)=>a+b,0);
  let reverse = parseInt(digits.reverse().join("")) % 10;
  let mirror = parseInt([...period].map(d => 9 - parseInt(d)).join("")) % 10;
  let continuous = (digits[digits.length-1] + 1) % 10;
  let candidates = [sum % 10, reverse, mirror, continuous];
  let counts = {};
  candidates.forEach(c => counts[c] = (counts[c]||0)+1);
  let predicted = Object.entries(counts).sort((a,b)=>b[1]-a[1])[0][0];
  return {num: parseInt(predicted), size: predicted>=5?"Big":"Small", conf: Math.floor((counts[predicted]/4)*100)};
}

function showResult(p) {
  document.getElementById("resultBox").innerHTML = `Predicted: <b>${p.num}</b> (${p.size}) ‚Äî Confidence: ${p.conf}%`;
  document.getElementById("coinSound").play();
  if (Notification.permission === "granted") {
    new Notification(`Next: ${p.num} (${p.size})`, {body:`Confidence: ${p.conf}%`, requireInteraction:true});
  }
}

document.getElementById("btnPredict").addEventListener("click", ()=>{
  let period = document.getElementById("period").value.trim();
  showResult(weightedPrediction(period));
});

document.getElementById("btnAuto").addEventListener("click", ()=>{
  if (autoTimer) { clearInterval(autoTimer); autoTimer=null; alert("Auto Mode stopped"); return; }
  let interval = parseInt(document.getElementById("interval").value)*1000;
  if (Notification.permission !== "granted") Notification.requestPermission();
  autoTimer = setInterval(()=>{
    let period = document.getElementById("period").value.trim();
    if (period) {
      period = (BigInt(period) + 1n).toString();
      document.getElementById("period").value = period;
      showResult(weightedPrediction(period));
    }
  }, interval);
  alert("Auto Mode started");
});
</script>
</body>
</html>
