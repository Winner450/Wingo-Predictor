<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>üéØ WinGo Predictor Pro</title>
<style>
  :root{
    --bg:#0b0b0b; --panel:#121212; --muted:#9aa0a6; --text:#e8eaed;
    --brand:#ffe04d; --border:rgba(255,255,255,.08); --border-2:rgba(255,255,255,.14);
    --error:#ff6961;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
       background:linear-gradient(180deg,#0a0a0a 0%,#000 100%);color:var(--text)}
  /* Header */
  .app-header{position:sticky;top:0;z-index:50;background:var(--bg);
              border-bottom:1px solid var(--border);padding:12px 16px}
  .brand-title{font-weight:800;color:var(--brand);letter-spacing:.3px;
               font-size:clamp(16px,3.6vw,22px)}
  .sub{display:block;font-weight:500;color:var(--muted);font-size:12px;margin-top:2px}

  /* Layout */
  .main-wrap{padding:16px;padding-top:clamp(68px,8vh,92px)}
  .container{max-width:980px;margin:0 auto}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:18px;
        padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .title{font-size:18px;font-weight:700;margin:0 0 12px}
  .grid{display:grid;gap:12px} @media(min-width:720px){.grid.cols-2{grid-template-columns:1fr 1fr}}
  label{display:block;color:var(--muted);font-size:13px;margin:6px 0}
  input,select{width:100%;padding:12px;border-radius:12px;outline:none;
               background:#0a0a0a;color:var(--text);border:1px solid var(--border-2)}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .btn{appearance:none;border:none;cursor:pointer;font-weight:700;padding:12px 16px;border-radius:12px;background:#1f2937;color:#fff}
  .btn.primary{background:var(--brand);color:#1a1a1a}
  .btn.ghost{background:transparent;border:1px solid var(--border-2)}
  .muted{color:var(--muted);font-size:12px}

  /* Modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);
                  display:flex;align-items:center;justify-content:center;z-index:60}
  .modal-card{width:min(520px,92vw);background:var(--panel);color:var(--text);
              border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.45)}
  .modal-head{font-size:18px;font-weight:800;margin:0 0 10px}
  .error{color:var(--error);margin-top:6px;font-size:13px}

  /* Toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:#111;color:#fff;
         border:1px solid var(--border);border-radius:12px;padding:10px 14px;z-index:70;
         opacity:0;pointer-events:none;transition:opacity .2s ease,transform .2s ease}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(-4px)}
</style>
</head>
<body>
<header class="app-header">
  <div class="container">
    <div class="brand-title">WinGo Predictor <b>Pro</b></div>
    <small class="sub">Quick predict ‚Ä¢ Smart validation ‚Ä¢ Learning</small>
  </div>
</header>

<main class="main-wrap">
  <div class="container">
    <section class="card">
      <h2 class="title">Quick Predict</h2>

      <div class="grid cols-2">
        <div>
          <label>Period Number (optional)</label>
          <!-- ‡§Ö‡§¨ Verify & Learn ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç; ‡§¨‡§∏ ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è -->
          <input id="periodInput" type="text" inputmode="numeric" placeholder="e.g. 202508141000003076">
        </div>
        <div>
          <label>Strategy</label>
          <select id="strategy">
            <option>Normal</option>
            <option>Anti-sequence</option>
            <option>High-variance</option>
          </select>
        </div>
      </div>

      <div class="row" style="margin-top:12px">
        <button id="btnPredict" class="btn primary">Predict</button>
        <button id="btnVerifyLearn" class="btn">Verify &amp; Learn</button>
      </div>
    </section>
  </div>
</main>

<!-- Verify & Learn Modal (NO current-period dependency) -->
<div id="verifyModal" class="modal-backdrop" hidden>
  <div class="modal-card">
    <h3 class="modal-head">Verify Previous Period</h3>
    <p class="muted" style="margin-top:-6px">Previous period ‡§î‡§∞ last result (0‚Äì9) ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§</p>

    <label>Previous Period</label>
    <input id="prevPeriodInput" type="text" inputmode="numeric" placeholder="e.g. 202508141000003075">

    <label style="margin-top:10px">Last Result (0‚Äì9)</label>
    <input id="actualDigitInput" type="text" inputmode="numeric" pattern="[0-9]" maxlength="1" placeholder="e.g. 5"/>

    <p id="verifyError" class="error" style="display:none"></p>

    <div class="row" style="justify-content:flex-end; margin-top:12px">
      <button id="verifyCancel" class="btn ghost">Cancel</button>
      <button id="verifySubmit" class="btn primary">Verify</button>
    </div>
  </div>
</div>

<div id="toast" class="toast"></div>

<script>
  const $ = s => document.querySelector(s);

  function toast(msg){
    const el = $("#toast");
    el.textContent = msg;
    el.classList.add("show");
    clearTimeout(window.__t);
    window.__t = setTimeout(()=>el.classList.remove("show"), 1800);
  }

  // Predict (placeholder)
  $("#btnPredict").addEventListener("click", ()=>{
    toast("Predicted ‚úî (demo)");
  });

  // -------- Verify & Learn (no current-period requirement) --------
  $("#btnVerifyLearn").addEventListener("click", ()=>{
    $("#prevPeriodInput").value = "";
    $("#actualDigitInput").value = "";
    $("#verifyError").style.display = "none";
    $("#verifyModal").hidden = false;
  });
  $("#verifyCancel").addEventListener("click", ()=> $("#verifyModal").hidden = true);

  // Keep only 1 digit in last-result
  $("#actualDigitInput").addEventListener("input",(e)=>{
    e.target.value = (e.target.value.match(/\d/) || [""])[0];
  });

  $("#verifySubmit").addEventListener("click", ()=>{
    const prev = $("#prevPeriodInput").value.trim();
    const digit = $("#actualDigitInput").value.trim();

    if(!/^\d+$/.test(prev)){
      return showVerifyError("Previous period ‡§ï‡•á‡§µ‡§≤ digits ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§Ç‡•§");
    }
    if(!/^[0-9]$/.test(digit)){
      return showVerifyError("Last result ‡§ï‡•á‡§µ‡§≤ 0‚Äì9 ‡§ï‡§æ ‡§è‡§ï ‡§Ö‡§Ç‡§ï ‡§¶‡•á‡§Ç‡•§");
    }

    try{
      verifyAndLearn(prev, Number(digit));  // ‚Üê ‡§Ö‡§™‡§®‡•Ä ‡§Ö‡§∏‡§≤‡•Ä learning logic ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
      $("#verifyModal").hidden = true;
      toast("Verified & learned from previous period.");
    }catch(err){
      console.error(err);
      showVerifyError("‡§ï‡•Å‡§õ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ü‡§à, ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§");
    }
  });

  function showVerifyError(msg){
    const el = $("#verifyError");
    el.textContent = msg;
    el.style.display = "block";
  }

  // ---- Hook: replace with your real implementation ----
  function verifyAndLearn(prevPeriod, digit){
    // saveResult(prevPeriod, digit); model.updateFrom(prevPeriod, digit);
    console.log("Learning from", prevPeriod, "digit", digit);
  }
</script>
</body>
</html>
