<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>üéØ WINGO PREDICTOR PRO</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  :root{
    --gold:#ffd54a;--gold2:#f3c623;--bg:#0a0f18;--panel:#121826;--stroke:#1f2740;
    --txt:#e8edf7;--muted:#9aa4b2;--ok:#22c55e;--warn:#f59e0b;--bad:#ef4444;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--txt);font:15.5px/1.45 ui-sans-serif,system-ui,Segoe UI,Roboto}
  .header{position:sticky;top:0;z-index:20;background:#0a0f18;border-bottom:1px solid #0e1526}
  .brand{max-width:1100px;margin:0 auto;padding:12px 16px}
  .badge{display:inline-flex;align-items:center;gap:10px;background:linear-gradient(180deg,var(--gold),var(--gold2));color:#121212;padding:9px 16px;border-radius:999px;font-weight:900;letter-spacing:.3px}
  .wrap{max-width:1100px;margin:16px auto;padding:0 16px}
  .card{background:var(--panel);border:1px solid var(--stroke);border-radius:14px;padding:16px}
  .h1{font-size:20px;font-weight:800;margin:0 0 10px}
  label{display:block;font-size:13px;font-weight:700;color:#cfd6e6;margin-bottom:6px}
  input,select{width:100%;padding:12px 14px;border:2px solid #1f2740;border-radius:12px;background:#0b111c;color:#fff;font-size:16px;outline:none}
  input:focus,select:focus{border-color:var(--gold)}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .btn{cursor:pointer;border:0;border-radius:12px;padding:12px 16px;font-weight:900}
  .btn.primary{background:linear-gradient(180deg,var(--gold),var(--gold2));color:#111}
  .btn.ghost{background:#0f1626;color:#e8edf7;border:1px solid #26304b}
  .pill{display:inline-flex;align-items:center;gap:8px;background:#0c1424;border:1px solid #23304a;color:#cfd6e6;border-radius:999px;padding:8px 12px}
  .hr{height:1px;background:#1a2338;margin:12px 0}
  .kv{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
  .box{background:#0c1322;border:1px solid #1b2338;border-radius:12px;padding:12px}
  .key{font-size:12px;color:#9aa4b2}.val{font-size:28px;color:var(--gold);font-weight:900}
  .line{height:10px;background:#1c2740;border-radius:999px;overflow:hidden}.bar{height:10px;background:linear-gradient(90deg,var(--gold2),var(--gold));width:0%}
  .sig{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid #2a3552}
  .ok{color:var(--ok)}.warn{color:var(--warn)}.bad{color:var(--bad)}
  .history{font-size:12.5px;color:#d7deee;max-height:240px;overflow:auto}
  .hrow{padding:6px 2px;border-bottom:1px dashed #23304a}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width:900px){.kv{grid-template-columns:1fr}.grid2{grid-template-columns:1fr}}
  .bgstars{position:fixed;inset:0;z-index:-1;background:url('https://media.giphy.com/media/l0Iy5fjHyedk9aDGU/giphy.gif') center/cover no-repeat;opacity:.08;pointer-events:none;filter:grayscale(100%)}
  /* Verify & Learn ‚Äî centered & tidy */
  .verifyWrap{margin-top:10px;border:1px solid #203154;background:#0b1323;border-radius:14px;padding:16px}
  .verifyHead{display:flex;align-items:center;justify-content:center;gap:10px;font-weight:800}
  .verifyGroup{display:flex;justify-content:center;gap:16px;margin:12px 0}
  .verifyRadio{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:999px;border:1px solid #2a3552;background:#0c1424}
  .verifyActions{display:flex;justify-content:center;margin-top:6px}
  .verifyMsg{display:flex;justify-content:center;margin-top:10px}
  .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #2a3552;background:#0c1424}
</style>
</head>
<body>
<div class="bgstars"></div>

<div class="header">
  <div class="brand"><span class="badge">üéØ WINGO PREDICTOR PRO</span></div>
</div>

<div class="wrap" id="appRoot">
  <!-- CONTROL -->
  <div class="card">
    <div class="h1">Quick Predict</div>
    <div class="row" style="gap:14px;align-items:flex-end;flex-wrap:wrap">
      <div style="flex:1 1 320px;min-width:260px">
        <label for="period">üßæ Period Number</label>
        <input id="period" placeholder="e.g. 20250813100052810"/>
      </div>
      <div style="flex:1 1 220px;min-width:220px">
        <label for="mode">Strategy</label>
        <select id="mode">
          <option value="risk">Risk-Controlled</option>
          <option value="balanced" selected>Balanced</option>
          <option value="high">High-Trade</option>
          <option value="conservative">Conservative</option>
          <option value="aggressive">Very Confident</option>
        </select>
      </div>
      <div><label>&nbsp;</label><button id="btnPredict" class="btn primary" type="button">üîÆ Predict</button></div>
      <div><label>&nbsp;</label><button id="btnClear" class="btn ghost" type="button">Clear</button></div>
      <div><label>&nbsp;</label><button id="btnCopy" class="btn ghost" type="button">Copy</button></div>
    </div>

    <div class="hr"></div>

    <div class="row" style="gap:12px">
      <span class="pill"><input id="autoNext" type="checkbox"> Auto Next</span>
      <select id="interval" style="width:140px">
        <option value="30">30 sec</option>
        <option value="60">60 sec</option>
      </select>
      <span class="pill"><input id="antiSeq" type="checkbox" checked> Anti-sequence</span>
      <span class="pill"><input id="learnOn" type="checkbox" checked> Learning ON</span>
      <span class="pill"><input id="soundOn" type="checkbox" checked> Sound ON</span>
      <button id="btnNotify" class="btn ghost" type="button">üîî Notifications</button>
      <span id="periodInfo" class="pill">‚Äî</span>
    </div>

    <div class="hr"></div>

    <!-- Pattern Pack -->
    <div class="row" style="gap:10px;flex-wrap:wrap">
      <div class="pill"><input id="patReverse" type="checkbox" checked> Reverse</div>
      <div class="pill"><input id="patMirror" type="checkbox" checked> Mirror</div>
      <div class="pill"><input id="patContinuous" type="checkbox" checked> Continuous</div>
      <div class="pill"><input id="patGap" type="checkbox" checked> Gap/Skip</div>
      <div class="pill"><input id="patStreak" type="checkbox" checked> Streak-Guard</div>
    </div>

    <!-- Verify & Learn (centered, improved) -->
    <div class="verifyWrap">
      <div class="verifyHead">‚úÖ Actual size (Learning)</div>
      <div class="verifyGroup">
        <label class="verifyRadio"><input type="radio" name="actSize" value="small"> Small (0‚Äì4)</label>
        <label class="verifyRadio"><input type="radio" name="actSize" value="big"> Big (5‚Äì9)</label>
      </div>
      <div class="verifyActions">
        <button id="btnVerify" class="btn ghost" type="button">Verify &amp; Learn</button>
      </div>
      <div class="verifyMsg"><span id="verifyMsg" class="chip">‚Äî</span></div>
    </div>
  </div>

  <!-- RESULT -->
  <div id="resultCard" class="card" style="margin-top:14px;display:none">
    <div class="kv">
      <div class="box"><div class="key">üßæ Period</div><div class="val" id="vPeriod">‚Äî</div></div>
      <div class="box"><div class="key">üî¢ Predicted Number</div><div class="val" id="vNum">‚Äî</div></div>
      <div class="box"><div class="key">üìè Size</div><div class="val" id="vSize">‚Äî</div></div>
    </div>
    <div style="margin-top:10px">
      <div class="key">üß† Confidence</div>
      <div class="line"><div id="confBar" class="bar"></div></div>
    </div>
    <div style="margin-top:10px" class="row">
      <span id="signal" class="sig">‚Äî</span>
      <span id="safe2" class="pill">Safe set: ‚Äî</span>
      <span id="why" class="pill">‚Äî</span>
    </div>
  </div>

  <!-- CHART + HISTORY -->
  <div class="grid2" style="margin-top:14px">
    <div class="card">
      <div class="h1">üìä Probability (0‚Äì9)</div>
      <canvas id="probChart" height="220"></canvas>
    </div>
    <div class="card">
      <div class="h1">üïò Recent Predictions</div>
      <div id="hist" class="history">‚Äî</div>
    </div>
  </div>
</div>

<script>
/* ---------- Service Worker (inline) ---------- */
let swReg=null;
(async function registerSW(){
  if(!('serviceWorker' in navigator)) return;
  const swCode = `
    self.addEventListener('install',e=>self.skipWaiting());
    self.addEventListener('activate',e=>self.clients.claim());
    self.addEventListener('notificationclick',e=>{
      e.notification.close();
      const url=(e.notification.data && e.notification.data.url)||'/';
      e.waitUntil(self.clients.matchAll({type:'window'}).then(clients=>{
        for(const c of clients){ if(c.url===url && 'focus' in c) return c.focus(); }
        if(self.clients.openWindow) return self.clients.openWindow(url);
      }));
    });`;
  try{
    const blob=new Blob([swCode],{type:'text/javascript'});
    const url=URL.createObjectURL(blob);
    swReg=await navigator.serviceWorker.register(url,{scope:'./'});
    await navigator.serviceWorker.ready;
  }catch(e){ console.warn('SW reg fail', e); }
})();
async function ensureNotify(){
  if(!('Notification' in window)) { alert('Notifications not supported'); return false; }
  if(Notification.permission==='granted'){ alert('Notifications enabled'); return true; }
  if(Notification.permission==='denied'){ alert('Notifications blocked in browser settings'); return false; }
  const s=await Notification.requestPermission();
  alert(s==='granted'?'Notifications enabled':'Permission denied'); return s==='granted';
}
async function notify(tail, digit, size){
  try{
    if(Notification.permission!=='granted') return;
    if(swReg && swReg.showNotification){
      await swReg.showNotification(`Next ‚Ä¢ ${tail}`,{ body:`#${digit} ‚Ä¢ ${size}`, tag:`wingo-${tail}`, renotify:true, requireInteraction:true });
    }else{ new Notification(`Next ‚Ä¢ ${tail}`,{ body:`#${digit} ‚Ä¢ ${size}` }); }
  }catch{}
}

/* ---------- Helpers ---------- */
const el=id=>document.getElementById(id);
const isDigits=s=>/^\d+$/.test(s||""); const clamp01=x=>Math.max(0,Math.min(1,x));
const normalize=a=>{const s=a.reduce((p,c)=>p+c,0)||1;return a.map(x=>x/s);};
const argmax=a=>a.indexOf(Math.max(...a));
const bump=p=>{try{return (BigInt(p)+1n).toString()}catch{const a=p.split('').map(n=>+n);for(let i=a.length-1;i>=0;i--){if(a[i]===9)a[i]=0;else{a[i]++;break;}}return a.join('')}};
function hash32(str){let h=2166136261>>>0;for(let i=0;i<str.length;i++){h^=str.charCodeAt(i);h=Math.imul(h,16777619)}return h>>>0;}
function mulberry32(seed){return function(){let t=seed+=0x6D2B79F5;t=Math.imul(t^t>>>15,t|1);t^=t+Math.imul(t^t>>>7,t|61);return((t^t>>>14)>>>0)/4294967296}}
function describe(p){return isDigits(p)?`len ${p.length} ‚Ä¢ tail ${p.slice(-4)}`:'‚Äî';}

/* ---------- Size learning ---------- */
const LS_SIZE='WPP_SIZE2';
const loadSize =()=>{try{return JSON.parse(localStorage.getItem(LS_SIZE))||[1,1]}catch{return [1,1]}};
const saveSize =s=>localStorage.setItem(LS_SIZE,JSON.stringify(s));

/* ---------- Priors ---------- */
function priorChecksum(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const s=[...period].reduce((a,b)=>a+(+b),0), t=(s%9+s%10)%10;
  const v=Array(10).fill(0.1); v[t]+=0.32; v[(t+1)%10]+=0.16; v[(t+9)%10]+=0.16; return normalize(v);
}
function priorCycle(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const d=[...period].map(Number), s=d.reduce((a,b)=>a+b,0);
  const v=Array(10).fill(0.1); v[(s%10)]+=0.24; v[((s%7)*3)%10]+=0.20; v[((s%7)*5)%10]+=0.18; return normalize(v);
}
function priorParity(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const even=(+period.slice(-2))%2===0; const v=Array(10).fill(0.1);
  if(even){for(let i=0;i<10;i+=2)v[i]+=0.22}else{for(let i=1;i<10;i+=2)v[i]+=0.22}
  return normalize(v);
}
function priorHashed(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const seedDigit = hash32(period+'d')%10, v=Array(10).fill(0.1);
  for(let i=0;i<10;i++){const dd=Math.min((i-seedDigit+10)%10,(seedDigit-i+10)%10); v[i]+=0.28*Math.exp(-0.55*dd);}
  return normalize(v);
}
function priorMirror(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const tail=period.slice(-4).split('').reverse().join('');
  const ref=(hash32(tail+'m')%10);
  const v=Array(10).fill(0.1); v[ref]+=0.26; v[(ref+3)%10]+=0.14; v[(ref+7)%10]+=0.12; return normalize(v);
}
function priorReversal(period){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const last=+period.slice(-1), v=Array(10).fill(0.1);
  v[(10-last)%10]+=0.22; v[(11-last)%10]+=0.12; v[(9-last+10)%10]+=0.12; return normalize(v);
}
function priorBucket(period, antiSeq){
  if(!isDigits(period)) return Array(10).fill(0.1);
  const tail=+period.slice(-3), m=tail%10, v=Array(10).fill(0.1);
  const k=antiSeq?0.16:0.36; v[m]+=k; v[(m+3)%10]+=k*0.55; v[(m+7)%10]+=k*0.45; return normalize(v);
}

/* ---------- Strategy ---------- */
function strategy(mode){
  // w: [checksum, cycle, parity, hashed, mirror, reversal, bucket]
  switch(mode){
    case 'risk':         return {temp:1.02, cap:0.56, jitter:0.05, adapt:0.10, learn:0.28, w:[0.22,0.18,0.18,0.18,0.10,0.06,0.08], minConf:0.50};
    case 'high':         return {temp:1.10, cap:0.68, jitter:0.12, adapt:0.24, learn:0.32, w:[0.18,0.16,0.16,0.20,0.14,0.08,0.08], minConf:0.42};
    case 'conservative': return {temp:1.04, cap:0.60, jitter:0.06, adapt:0.14, learn:0.26, w:[0.22,0.18,0.18,0.18,0.12,0.06,0.06], minConf:0.48};
    case 'aggressive':   return {temp:1.08, cap:0.66, jitter:0.10, adapt:0.20, learn:0.30, w:[0.20,0.16,0.16,0.20,0.14,0.08,0.06], minConf:0.44};
    default:             return {temp:1.06, cap:0.62, jitter:0.08, adapt:0.18, learn:0.30, w:[0.20,0.18,0.18,0.18,0.12,0.06,0.08], minConf:0.46};
  }
}

/* ---------- Pattern toggles -> weight mask ---------- */
function patternMask(){
  const mask=[1,1,1,1,1,1,1];
  if(!document.getElementById('patMirror').checked)     mask[4]=0;
  if(!document.getElementById('patReverse').checked)    mask[5]=0;
  if(!document.getElementById('patContinuous').checked) mask[6]=0;
  return mask;
}

/* ---------- Predictor ---------- */
function predict(period, mode, antiSeq, learnOn){
  const prof=strategy(mode);
  const P1=priorChecksum(period), P2=priorCycle(period), P3=priorParity(period), P4=priorHashed(period),
        P5=priorMirror(period), P6=priorReversal(period), P7=priorBucket(period,antiSeq);
  const mask=patternMask();
  let w=prof.w.map((x,i)=>x*mask[i]); const ws=w.reduce((a,b)=>a+b,0)||1; w=w.map(x=>x/ws);

  let base=normalize(P1.map((_,i)=> w[0]*P1[i]+w[1]*P2[i]+w[2]*P3[i]+w[3]*P4[i]+w[4]*P5[i]+w[5]*P6[i]+w[6]*P7[i]));

  const sorted=base.slice().sort((a,b)=>b-a), t=sorted[2]||0.1;
  base=normalize(base.map(p=>p*(1+prof.adapt*((p-t)/(t+1e-9)))));

  if(learnOn){
    const sz=loadSize(), total=(sz[0]+sz[1])||1;
    const smallBias=sz[0]/total, bigBias=sz[1]/total;
    const k=prof.learn;
    for(let i=0;i<5;i++)  base[i]*=(1 - k + k*smallBias);
    for(let i=5;i<10;i++) base[i]*=(1 - k + k*bigBias);
    base=normalize(base);
  }

  const seed=hash32(period), rnd=mulberry32(seed);
  const B=72, j=prof.jitter; const agg=Array(10).fill(0), votes=Array(10).fill(0);
  for(let b=0;b<B;b++){
    const p=normalize(base.map(x=>Math.max(0,x*(1+(rnd()*2-1)*j))));
    p.forEach((x,i)=>agg[i]+=x); votes[argmax(p)]++;
  }
  let probs=normalize(agg).map(p=>Math.pow(p,1/prof.temp)); probs=normalize(probs);
  const iM=argmax(probs), mx=probs[iM];
  if(mx>prof.cap){
    const excess=mx-prof.cap; probs[iM]-=excess;
    const rest=probs.reduce((a,b,i)=>i===iM?a:a+b,0)||1;
    const scale=(1-probs[iM])/rest; for(let i=0;i<10;i++) if(i!==iM) probs[i]*=scale; probs=normalize(probs);
  }
  let H=0; probs.forEach(p=>{ if(p>0) H+=-p*Math.log(p); });
  const entropy=clamp01(1 - H/Math.log(10));
  const stability=Math.max(...votes)/B;
  let conf = clamp01(0.55*entropy + 0.45*stability);

  let minConf = prof.minConf;
  if(document.getElementById('patGap').checked)    minConf += 0.02;
  if(document.getElementById('patStreak').checked) minConf += 0.02;
  const playable = conf>=minConf;
  return {probs, conf, playable, minConf};
}

/* ---------- Charts ---------- */
let probChart=null;
function renderChart(probs){
  const labels=[...'0123456789'];
  const data=probs.map(p=>Math.round(p*1000)/10);
  if(probChart) probChart.destroy();
  probChart=new Chart(document.getElementById('probChart').getContext('2d'),{
    type:'bar',
    data:{labels,datasets:[{label:'Probability (%)',data}]},
    options:{responsive:true,scales:{y:{beginAtZero:true,title:{display:true,text:'%'}},x:{title:{display:true,text:'Digit'}}}}
  });
}

/* ---------- UI render ---------- */
function render(period, out, source){
  const resultCard=el('resultCard'); resultCard.style.display='block';
  const pick=argmax(out.probs); const size=pick>=5?'Big':'Small';
  el('vPeriod').textContent=period; el('vNum').textContent=pick; el('vSize').textContent=size;
  el('confBar').style.width=(out.conf*100).toFixed(1)+'%';
  const sig = out.playable ? (out.conf>0.62?'Play':'Soft Play') : 'Skip';
  const cls = out.playable ? (out.conf>0.62?'ok':'warn') : 'bad';
  el('signal').className='sig '+cls; el('signal').textContent=sig;
  const sorted=out.probs.map((p,i)=>({i,p})).sort((a,b)=>b.p-a.p);
  el('safe2').textContent='Safe set: '+sorted.slice(0,2).map(o=>o.i).join(', ');
  el('why').textContent='Conf '+Math.round(out.conf*100)+'% (min '+Math.round(out.minConf*100)+'%)';
  renderChart(out.probs);

  const h=el('hist'); if(h.textContent==='‚Äî') h.textContent='';
  h.insertAdjacentHTML('afterbegin',`<div class="hrow">‚è± ${new Date().toLocaleTimeString()} ‚Ä¢ tail ${String(period).slice(-4)} ‚Üí #${pick} (${size}) ‚Ä¢ ${sig}</div>`);
  [...h.children].slice(18).forEach(n=>n.remove());

  if(source==='auto'){
    if(el('soundOn').checked) beep();
    if(out.playable) notify(String(period).slice(-3), pick, size);
  }
}

/* ---------- Sound ---------- */
function beep(){
  try{
    const a=new (window.AudioContext||window.webkitAudioContext)();
    const o=a.createOscillator(); const g=a.createGain();
    o.type='triangle'; o.frequency.setValueAtTime(880,a.currentTime);
    g.gain.value=0.0001; o.connect(g); g.connect(a.destination);
    const t=a.currentTime; g.gain.exponentialRampToValueAtTime(0.4,t+0.02);
    g.gain.exponentialRampToValueAtTime(0.0001,t+1.0);
    o.start(); o.stop(t+1.02);
  }catch{}
}

/* ---------- Actions ---------- */
let timer=null, autoOn=false, busy=false;

function runPredict(source){
  if(busy) return; busy=true; setTimeout(()=>busy=false,140);
  const p=el('period').value.trim();
  if(!isDigits(p)){ alert('Valid period number ‡§≠‡§∞‡•á‡§Ç (digits only)'); return; }
  el('periodInfo').textContent='Period: '+describe(p);
  const out=predict(p, el('mode').value, el('antiSeq').checked, el('learnOn').checked);
  render(p,out,source);
}
function startAuto(){
  clearInterval(timer);
  const sec=parseInt(el('interval').value||'30',10);
  timer=setInterval(()=>{
    const cur=el('period').value.trim();
    if(isDigits(cur)) el('period').value=bump(cur);
    runPredict('auto');
  }, sec*1000);
}
function stopAuto(){ clearInterval(timer); timer=null; }
function toggleAuto(){ autoOn=el('autoNext').checked; if(autoOn) startAuto(); else stopAuto(); }
function doClear(){
  stopAuto(); el('autoNext').checked=false;
  el('period').value=''; el('periodInfo').textContent='‚Äî';
  el('resultCard').style.display='none'; el('hist').textContent='‚Äî';
  if(probChart){probChart.destroy(); probChart=null;}
}
async function doCopy(){
  try{
    const txt=`Period: ${el('vPeriod').textContent}, Number: ${el('vNum').textContent}, Size: ${el('vSize').textContent}, ${el('signal').textContent}`;
    await navigator.clipboard.writeText(txt); alert('Copied!');
  }catch{}
}

/* ---------- Verify & Learn (centered) ---------- */
function verifyLearn(){
  const pick = el('vNum').textContent.trim();
  const msg = el('verifyMsg');
  if(!pick || pick==='‚Äî'){ msg.textContent='‡§™‡§π‡§≤‡•á Predict ‡§ï‡§∞‡•á‡§Ç.'; msg.style.color='#9aa4b2'; return; }
  const chosen = document.querySelector('input[name="actSize"]:checked');
  if(!chosen){ msg.textContent='Actual ‡§ï‡•á ‡§≤‡§ø‡§è Big/Small ‡§ö‡•Å‡§®‡•á‡§Ç.'; msg.style.color='#9aa4b2'; return; }
  const predictedSize = (+pick>=5)?'big':'small';
  const actualSize = chosen.value;
  const win = (predictedSize===actualSize);
  msg.textContent = win ? `WIN ‚úî ${predictedSize.toUpperCase()}` : `LOSS ‚úò picked ${predictedSize.toUpperCase()} ‚Ä¢ actual ${actualSize.toUpperCase()}`;
  msg.style.color = win ? 'var(--ok)' : 'var(--bad)';
  if(el('learnOn').checked){
    const s=loadSize(); if(actualSize==='small') s[0]++; else s[1]++; saveSize(s);
  }
}

/* ---------- Bind all buttons safely ---------- */
document.addEventListener('DOMContentLoaded',()=>{
  // buttons
  el('btnPredict').addEventListener('click', ()=>runPredict('manual'));
  el('period').addEventListener('keydown', e=>{ if(e.key==='Enter') runPredict('manual'); });
  el('btnClear').addEventListener('click', doClear);
  el('btnCopy').addEventListener('click', doCopy);
  el('btnNotify').addEventListener('click', ensureNotify);
  el('btnVerify').addEventListener('click', verifyLearn);
  // auto controls
  el('autoNext').addEventListener('change', ()=>{ toggleAuto(); });
  el('interval').addEventListener('change', ()=>{ if(autoOn) startAuto(); });
});
</script>
</body>
</html>
